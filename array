
#include <iostream>
using namespace std;

bool run = true;

void show_result(int* arr, int n) {
    cout << "Результат: ";
    for (int i = 0; i < n; i++) {
        cout << arr[i] << " ";
    }
}

void shift_array(int* arr, int n, int k, int choice) {
    k = k % n;
    int* temp = new int[n];
    
    if (choice == 1) {
        for (int i = 0; i < n; i++) { // сохраняю arr[i] в новую позицию (i + k) % n в temp[i]
            temp[(i - k + n) % n] = arr[i];
        }
        
        for (int i = 0; i < n; i++) { // заменяю arr[i] на сдвинутый на k arr[i] (temp[i])
            arr[i] = temp[i];
        }
        
        delete[] temp;
        show_result(arr, n);
        delete[] arr;
    }
    
    else if (choice == 2) {
        
        for (int i = 0; i < n; i++) { // сохраняю arr[i] в новую позицию (i + k) % n в temp[i]
            temp[(i + k) % n] = arr[i];
        }
        
        for (int i = 0; i < n; i++) { // заменяю arr[i] на сдвинутый на k arr[i] (temp[i])
            arr[i] = temp[i];
        }
        
        delete[] temp;
        show_result(arr, n);
        delete[] arr;
    }
}

void direction(int* arr, int n) {
    int choice, k;
    
    cout << "1. Сдвинуть влево " << endl;
    cout << "2. Сдвинуть вправо " << endl;
    cout << "Выбор: ";
    cin >> choice;
    
    switch (choice) {
        case 1:
            cout << "Сдвинуть влево на: ";
            break;
    
        case 2:
            cout << "Сдвинуть вправо на: ";
            break;
    
        default:
            cout << "Ошибка. Неверный выбор " << endl;
            delete[] arr;
            run = false;
            break;
    }

    cin >> k;
    if (cin.fail()) {
        cout << "Ошибка. Введите число" << endl;
        delete[] arr;
        run = false;
    }
    
    else {
        shift_array(arr, n, k, choice);
    }
}

void get(int n) {
    int* arr = new int[n];
    
    cout << "Введите элементы: ";
    for (int i = 0; i < n; i++) {
        cin >> arr[i];
        
        if (cin.fail()) {
            cout << "Ошибка. Введите число" << endl;
            run = false;
            break;
        }
    }
    
    if (run) {
        direction(arr, n);
    }
    
}

int main() {
    int n;
    
    cout << "Введите количество элементов: ";
    cin >> n;
    if (cin.fail() || n <= 0) {
        cout << "Ошибка. Введите положительное число" << endl;
        run = false;
    }
    else {
        get(n);
    }
    return 0;
}
